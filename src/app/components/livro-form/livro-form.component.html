<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4">
    {{ editMode ? 'Editar' : 'Adicionar' }} Livro
  </h2>

  <form (ngSubmit)="salvarLivro()" class="space-y-4">
    <div>
      <label for="titulo" class="block text-sm font-medium text-gray-700">Título</label>
      <input
        type="text"
        id="titulo"
        [(ngModel)]="livro.titulo"
        name="titulo"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2"
        required
      >
    </div>

    <div>
      <label for="autor" class="block text-sm font-medium text-gray-700">Autor</label>
      <input
        type="text"
        id="autor"
        [(ngModel)]="livro.autor"
        name="autor"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2"
        required
      >
    </div>

    <div>
      <label for="ano" class="block text-sm font-medium text-gray-700">Ano</label>
      <input
        type="number"
        id="ano"
        [(ngModel)]="livro.ano"
        name="ano"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2"
        required
      >
    </div>

    <div>
      <label for="genero" class="block text-sm font-medium text-gray-700">Gênero</label>
      <input
        type="text"
        id="genero"
        [(ngModel)]="livro.genero"
        name="genero"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2"
        required
      >
    </div>

    <div>
      <label for="editora" class="block text-sm font-medium text-gray-700">Editora</label>
      <input
        type="text"
        id="editora"
        [(ngModel)]="livro.editora"
        name="editora"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2"
        required
      >
    </div>

    <div>
      <label for="isbn" class="block text-sm font-medium text-gray-700">ISBN</label>
      <input
        type="text"
        id="isbn"
        [(ngModel)]="livro.isbn"
        name="isbn"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2"
        required
      >
    </div>

    <div class="flex items-center space-x-2">
      <span class="text-sm font-medium text-gray-700">
        Status: {{ livro.reservado ? 'Reservado' : 'Disponível' }}
      </span>
      <button
        type="button"
        (click)="reservarLivro()"
        class="px-4 py-2 text-sm rounded-md"
        [ngClass]="{
          'bg-green-500 hover:bg-green-600 text-white': !livro.reservado,
          'bg-red-500 hover:bg-red-600 text-white': livro.reservado
        }"
      >
        {{ livro.reservado ? 'Cancelar Reserva' : 'Reservar' }}
      </button>
    </div>

    <div class="flex space-x-4">
      <button
        type="submit"
        class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
      >
        {{ editMode ? 'Atualizar' : 'Adicionar' }}
      </button>
      <button
        type="button"
        routerLink="/"
        class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded"
      >
        Cancelar
      </button>
    </div>
  </form>
</div>